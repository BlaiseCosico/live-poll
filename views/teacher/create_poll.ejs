<%- include('header'); -%>

<head>
    <title>Create Poll</title>
    <link rel="stylesheet" href="/css/create_poll.css">
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
    <script>
        //get ejs object and put it to dom for external js access
        $(document).ready(function (){            
            var room = "<%= roomID %>";
            $('#room').val(room);
            console.log(room);
            $('#pollURL').val('localhost:8888/poll/'+room);
        });
    </script>
    
    <script type ="text/javascript" src="/js/create_poll.js"></script>
</head>


<body>
    <div class="container">

        <div class="col-6 copyText" style="float: none; margin: 0 auto;">
            <div class="control-group input-group">  
                
                <input type="hidden" value="" id="room">
                <input type="text" class="form-control text-white" value="" id="pollURL">
                <div class="input-group-btn"> 
                    <button onclick="copyText()" class="btn btn-success"><i class="bi bi-clipboard"></i></button>
                </div>   
            
            </div>
        </div>

        <div id="content" class="col-8" style="float: none; margin: 0 auto;">
            <div class="form-group">
                <div id="test">
                    <h3>Question</h3>
                    <button class="btn" id="restart" data-toggle="tooltip" title="Click to revert progress or start again"><span class="glyphicon glyphicon-refresh"></span><i class="bi bi-arrow-repeat"></i></button>
                </div>
                
                <input type="text" class="form-control text-white" id="question" placeholder="Type your question here">
            </div>
            <label for="exampleFormControlInput1">Choices</label>

            <div class="form-group" id="options">   
                <div class="control-group input-group">  
                    <input type="text" class="form-control text-white" id="option1" placeholder="Option 1">
                    <div class="input-group-btn"> 
                          
                        <button class="btn btn-danger remove" type="button" value="option1"><i class="bi bi-trash"></i></button>

                    </div>   
                </div>
            </div>
            
            <button id="add-btn" class="btn"><i class="bi bi-plus"></i> Add an option</button>
        </div>

        <div class="col-8" style="float: none; margin: 0 auto;"> 
            <button id="start-btn" class="btn btn-success" disabled>Start collecting responses (0 live)</button>
        </div>
        <div class="col-8" style="float: none; margin: 0 auto;"> 
            
            <a href="/teacher/result/<%= roomID %>" id="show-results-btn" class="btn btn-danger" >Stop collecting and share results (0/0 voted) </a>
        </div>
        
    </div>  
</body>
</html>